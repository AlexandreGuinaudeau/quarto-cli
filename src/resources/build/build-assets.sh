#!/bin/bash

# builds the autogenerated JSON and JS assets.
# These are used by the IDE and the HTML targets

../../../package/scripts/common/quarto-deno run build-schema-file.ts

# build core-lib
pushd ../../core/lib
./build.sh
popd

# build esbuild-bundle for OJS
pushd ../formats/html/ojs
esbuild --bundle quarto-ojs.js --outfile=esbuild-bundle.js --format=esm
popd

# build
pushd ../editor/tools/yaml
make
popd
