const core = window.core;
const yamlValidators = {};

export async function getValidator(context)
{
  const {
    schema,     // schema of yaml object
    schemaName, // name of schema so we can look it up on the validator cache
  } = context;

  if (yamlValidators[schemaName]) {
    return yamlValidators[schemaName];
  }

  const validator = new core.YAMLSchema(schema);

  yamlValidators[schemaName] = validator;
  return validator;
}
