- enum:
    id: math-methods
    values: [plain, webtex, gladtex, mathml, mathjax, katex]

- arrayOf:
    id: pandoc-format-request-headers
    schema:
      arrayOf:
        schema: string
        length: 2

- oneOf:
    id: pandoc-format-output-file
    schemas:
      - path
      - "null":
          hidden: true

- arrayOf:
    id: pandoc-format-filters
    schema:
      oneOf:
        - path
        - object:
            properties:
              type: string
              path: path
            required: [type, path]
        - object:
            properties:
              type:
                enum: [citeproc]
            required: [type]

- enum:
    id: page-column
    values:
      [
        body,
        body-outset,
        body-outset-left,
        body-outset-right,
        page,
        page-left,
        page-right,
        screen,
        screen-left,
        screen-right,
        screen-rightcolumn,
        screen-inset,
        screen-inset-shaded,
        screen-inset-left,
        screen-inset-right,
        margin,
      ]

- object:
    id: navigation-item
    properties:
      href:
        string:
          description: |
            Link to file contained with the project or external URL
      text:
        string:
          description: Text to display for navigation item (defaults to the
            document title if not provided)
      icon:
        string:
          description:
            short: Name of bootstrap icon (e.g. "github", "twitter", "share")
            long: |
              Name of bootstrap icon (e.g. "github", "twitter", "share")
              See <https://icons.getbootstrap.com/> for a list of available icons
      aria-label:
        string:
          description: "Accessible label for the navigation item."
      menu:
        arrayOf:
          schema:
            ref: navigation-item
    additionalProperties: false

- object:
    id: social-metadata
    properties:
      title:
        string:
          description:
            short: "The title of the page"
            long: |
              The title of the page. Note that by default Quarto will automatically 
              use the title metadata from the page. Specify this field if you’d like 
              to override the title for this provider.
      description:
        string:
          description:
            short: "A short description of the content."
            long: |
              A short description of the content. Note that by default Quarto will
              automatically  use the description metadata from the page. Specify this
              field if you’d like to override the description for this provider.
      image:
        path:
          description:
            short: "The path to a preview image for the content."
            long: |
              The path to a preview image for the content. By default, Quarto will use
              the `image` value from the website or book metadata. If you provide an 
              image, you may also optionally provide an `image-width` and `image-height`.
      image-width:
        number:
          description: "Image width (pixels)"
      image-height:
        number:
          description: "Image height (pixels)"

- object:
    id: base-website
    properties:
      title:
        string:
          description: "Website title"
      site-url:
        string:
          description: "Base URL for published website"
      site-path:
        string:
          description: |
            Path to site (defaults to '/'). Not required if you specify `site-url`.
      repo-url:
        string:
          descripiton: "Base URL for website source code repository"
      repo-branch:
        string:
          description: "Branch of website source code (defaults to `main`)"
      repo-actions:
        maybeArrayOf:
          enum: [none, edit, source, issue]
          description: "Links to source repository actions"
      # TODO: navbar
      # TODO: sidebar
      page-navigation:
        boolean:
          description: "Provide next and previous article links in footer"
      # TODO: page-footer
      # TODO: search
      image:
        path:
          description: |
            Default site thumbnail image for twitter / open-graph
      open-graph:
        oneOf:
          - boolean
          - object:
              super:
                resolveRef: social-metadata
              properties:
                locale:
                  string:
                    description: "Locale of open graph metadata"
                site-name:
                  string:
                    description:
                      short: "Name that should be displayed for the overall site"
                      long: |
                        Name that should be displayed for the overall site. If not explicitly 
                        provided in the `open-graph` metadata, Quarto will use the website or
                        book `title` by default.
              additionalProperties: false
        description: "Publish open graph metadata"
      twitter-card:
        oneOf:
          - boolean
          - object:
              super:
                resolveRef: social-metadata
              properties:
                card-style:
                  enum: [summary, summary_large_image]
                  description:
                    short: "Card style"
                    long: |
                      Card style. If this is not provided, the best style will automatically 
                      selected based upon other metadata. You can learn more about Twitter Card
                      styles [here](https://developer.twitter.com/en/docs/twitter-for-websites/cards/overview/abouts-cards).
                creator:
                  string:
                    description: "`@username` of the content creator (must be a quoted string)"
                site:
                  string:
                    description: "`@username` of the website (must be a quoted string)"
              additionalProperties: false
        description: "Publish twitter card metadata"

- arrayOf:
    id: chapter-list
    schema:
      oneOf:
        - path
        - object:
            properties:
              part:
                path:
                  description: "Path to part input file"
              chapters:
                arrayOf: path
                description: "Path to chapter input file"
            required: [part, chapter]
            additionalProperties: false
