body {
  max-width: $max-width;
  @if variable-exists(margin-top) {
    margin-top: $margin-top;
  }
  @if variable-exists(margin-bottom) {
    margin-bottom: $margin-bottom;
  }
  @if variable-exists(margin-left) {
    margin-left: $margin-left;
  }
  @if variable-exists(margin-right) {
    margin-right: $margin-right;
  }
}

code,
kbd,
pre,
samp {
  @if variable-exists(mono-background-color) {
    background-color: $mono-background-color;
  }
  @if variable-exists(mono-padding) {
    padding: $mono-padding;
  }
}

pre.sourceCode {
  @if variable-exists(codeblock-padding-left) {
    padding-left: $codeblock-padding-left;
  }
  @if variable-exists(codeblock-border-left) {
    border-left: $codeblock-border-left;
  }
}

main {
  margin-top: 1em;
  margin-bottom: 1em;
}

h2 {
  margin-top: 2rem;
  margin-bottom: 1rem;
  border-bottom: 1px solid $gray-300;
  padding-bottom: 0.5rem;
}

h3,
h4 {
  margin-top: 1.5rem;
}

/* workaround for anchorjs not hitting on generic :hover selector */
h2:hover > .anchorjs-link,
h3:hover > .anchorjs-link,
h4:hover > .anchorjs-link,
h5:hover > .anchorjs-link,
h6:hover > .anchorjs-link {
  opacity: 1;
}

.sidebar {
  padding-top: 1.2em;
}

// Source Code Blocks
pre.sourceCode,
code.sourceCode {
  position: relative;
  overflow-y: hidden;
  border-color: $gray-200 !important;
}

.code-copy-button {
  position: absolute;
  top: 0;
  right: 0;
  border: 0;
  background-color: transparent;
}

.code-copy-button:focus {
  outline: none;
}

#{$code-copy-selector} .code-copy-button > .bi::before {
  display: inline-block;
  height: 1rem;
  width: 1rem;
  content: "";
  vertical-align: -0.125em;
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#{colorToRGB($text-muted)}" viewBox="0 0 16 16"><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/><path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/></svg>');
  background-repeat: no-repeat;
  background-size: 1rem 1rem;
}

#{$code-copy-selector} .code-copy-button:hover > .bi::before {
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#{colorToRGB($link-hover-color)}" viewBox="0 0 16 16"><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/><path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/></svg>');
}

#{$code-copy-selector} .code-copy-button-checked > .bi::before {
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#{colorToRGB($text-muted)}" viewBox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"/></svg>');
}

#{$code-copy-selector} .code-copy-button-checked:hover > .bi::before {
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#{colorToRGB($link-hover-color)}" viewBox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"/></svg>');
}

/* table of contents */
.sidebar-toc > nav > h2 {
  font-size: 1rem;
  font-weight: 400;
  margin-bottom: 0.5rem;
  margin-top: 0.3rem;
  font-family: inherit;
  border-bottom: 0;
  padding-bottom: 0;
}

.sidebar-toc > nav ul {
  padding-left: 0;
  list-style: none;
  font-size: 0.9rem;
  font-weight: 300;
}

.sidebar-toc > nav ul li a {
  padding-left: 0;
  padding-bottom: 0.15rem;
  padding-top: 0;
  color: inherit;
}

.sidebar-toc > nav ul > li > ul > li > a {
  padding-left: 0.6rem;
  border-left: 2px solid $gray-200;
}

.sidebar-toc > nav ul > li > ul > li > a.active {
  border-color: $primary;
  color: $primary !important;
}

.sidebar-toc > nav ul > li > a.active {
  border-color: $primary;
  color: $primary !important;
}

// tweaking default keyboard settings
kbd,
.kbd {
  color: $body-color;
  background-color: $progress-bg;
}

// Cards with header
div[class^="notice-"] {
  margin-bottom: $notice-margin-bottom;
}

div[class^="notice-"]:not(.notice-captioned) {
  border-left: $notice-border-width solid;
  border-right: 1px solid $table-border-color;
  border-top: 1px solid $table-border-color;
  border-bottom: 1px solid $table-border-color;
}

div[class^="notice-"].notice-captioned {
  border: 1px solid $table-border-color;
}

div[class^="notice-"] > div.card-header {
  padding: .25em .65rem !important;
  border-bottom: none;
  font-weight: 500;
}

div[class^="notice-"] > div.card-header[data-bs-toggle="collapse"] {
  cursor: pointer;
}

div[class^="notice-"] .card-body > :last-child,
div[class^="notice-"] .card-body > div > :last-child {
  margin-bottom: 0;
}

div[class^="notice-"] .card-notice-toggle::before {
  height: 1.1rem;
  width: 1.1rem;
  display: inline-block;
  content: "";
  vertical-align: -.125em;
  background-repeat: no-repeat;
  background-size: 1.1rem 1.1rem;
  margin-right: .25rem;
}

div[class^="notice-"] .card-notice-icon::before {
  height: 1.1rem;
  width: 1.1rem;
  display: inline-block;
  content: "";
  vertical-align: -.25em; 
  background-repeat: no-repeat;
  background-size: 1.1rem 1.1rem;
  margin-right: 0.25rem;
}


div[class^="notice-"] .notice-btn-toggle .card-notice-toggle::before {
  transition: transform 0.2s linear;
}

div[class^="notice-"] .card-header[aria-expanded="false"] .card-notice-toggle::before {
  transform: rotate(-90deg);  
  
}

div[class^="notice-"] .card-header[aria-expanded="true"] .card-notice-toggle::before {
  transform: none;
}

div[class^="notice-"] div.card-notice-icon-container {
  padding-top: .2em;
  padding-right: .4em;
  margin-left: -.2em;
}

div[class^="notice-"] .no-icon {
  display: none;
}


div.notice-warning:not(.notice-captioned) {
  border-left-color: shift-color($warning, $notice-border-scale);
}

div.notice-warning .card-header {
  background-color: shift-color($warning, $notice-bg-scale);
}

div.notice-warning .card-header {
  color: shift-color($warning, $notice-text-scale);
}

div.notice-warning:not(.notice-captioned) .card-notice-icon::before {
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#{shift-color($warning, $notice-border-scale)}" class="bi bi-exclamation-triangle-fill" viewBox="0 0 16 16"><path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/></svg>');
}

div.notice-warning.notice-captioned .card-notice-icon::before {
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#{shift-color($warning, $notice-icon-scale)}" class="bi bi-exclamation-triangle-fill" viewBox="0 0 16 16"><path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/></svg>');
}


div.notice-warning .card-notice-toggle::before {
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#{shift-color($warning, $notice-text-scale)}" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');
}
